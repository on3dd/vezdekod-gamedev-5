{"version":3,"sources":["utils/globalStyles.tsx","components/Game/GameBottle.tsx","components/Game/index.tsx","App.tsx","index.tsx"],"names":["GlobalStyles","createGlobalStyle","shake","keyframes","GameBottleButton","styled","button","Svg","svg","Rect","rect","GameBottle","bind","progress","disabled","onClick","className","data-name","xmlns","viewBox","id","x","y","width","height","transform","fill","d","mask","GameContainer","section","GameHeaderWrapper","div","GameHeaderText","h1","GameHeaderLevel","GameBottleWrapper","GamePauseWrapper","GamePauseButton","Game","useState","level","setLevel","paused","setPaused","active","setActive","setProgress","timeLeft","setTimeLeft","onLongPress","useCallback","prev","useLongPress","threshold","onStart","onFinish","onCancel","useEffect","fillTimer","setInterval","clearInterval","decayTimer","timeLeftTimer","reset","Container","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.83dc0e56.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyles = createGlobalStyle`\n  body {\n    margin: 0;\n    padding: 0;\n  }\n`;\n","import React from 'react';\nimport { LongPressResult } from 'use-long-press';\nimport styled, { keyframes } from 'styled-components';\n\nconst shake = keyframes`\n  10%, 90% {\n    transform: translate(-1px, 0);\n  },\n  \n  20%, 80% {\n    transform: translate(2px, 0);\n  }\n\n  30%, 50%, 70% {\n    transform: translate(-4px, 0);\n  }\n\n  40%, 60% {\n    transform: translate(4px, 0);\n  }\n`;\n\nconst GameBottleButton = styled.button`\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n\tborder: none;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 0;\n\tbackground-color: transparent;\n\n\t&:hover {\n\t\ttransform: rotate(7.5deg);\n\t\ttransition: all 0.2s ease-out;\n\t}\n\n\t&:active {\n\t\tanimation: ${shake} 0.2s ease-in-out;\n\t}\n\n\t> * {\n\t\t-webkit-touch-callout: none; /* iOS Safari */\n\t\t-webkit-user-select: none; /* Safari */\n\t\t-khtml-user-select: none; /* Konqueror HTML */\n\t\t-moz-user-select: none; /* Firefox */\n\t\t-ms-user-select: none; /* Internet Explorer/Edge */\n\t\tuser-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n\t}\n`;\n\nconst Svg = styled.svg`\n\tdisplay: block;\n`;\n\nconst Rect = styled.rect`\n\ttransition: all 0.1s ease-out;\n`;\n\ntype GameBottleProps = {\n\tbind: any;\n\tprogress: number;\n\tdisabled: boolean;\n\tonClick: () => void;\n};\n\nexport const GameBottle: React.FC<GameBottleProps> = ({\n\tbind,\n\tprogress,\n\tdisabled,\n\tonClick,\n}) => {\n\treturn (\n\t\t<GameBottleButton disabled={disabled} {...bind} onClick={onClick}>\n\t\t\t<Svg\n\t\t\t\tclassName=\"milk-bottle\"\n\t\t\t\tdata-name=\"Layer 1\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 21 51\"\n\t\t\t>\n\t\t\t\t<defs>\n\t\t\t\t\t<mask id=\"milk-mask\">\n\t\t\t\t\t\t<Rect\n\t\t\t\t\t\t\tclassName=\"mask-rect\"\n\t\t\t\t\t\t\tx=\"477\"\n\t\t\t\t\t\t\ty=\"108\"\n\t\t\t\t\t\t\twidth=\"15\"\n\t\t\t\t\t\t\theight={`${progress}%`}\n\t\t\t\t\t\t\ttransform=\"rotate(-180 247.5 78.5)\"\n\t\t\t\t\t\t\tfill=\"#ffffff\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</mask>\n\t\t\t\t</defs>\n\n\t\t\t\t<path\n\t\t\t\t\tclassName=\"bottle\"\n\t\t\t\t\td=\"M19 21.1L15 8.74V6a2.3 2.3 0 0 0-.14-.9 1.54 1.54 0 0 0 .14-.65V3c0-.85-.35-1.5-1.19-1.5H7.86C7.02 1.5 6 2.15 6 3v1.47a1.55 1.55 0 0 0 .22.79 1.32 1.32 0 0 0-.22.76v2.72L2 21.09a12.12 12.12 0 0 0-.51 3.21v22.1a3.29 3.29 0 0 0 3.15 3.1h12a2.92 2.92 0 0 0 2.85-3.1V24.3a12.14 12.14 0 0 0-.49-3.2zM7.69 3h5.81v1.47a3.12 3.12 0 0 0 .31.08h-.08l-6-.05zM18 46.4a1.63 1.63 0 0 1-1.4 1.58H4.65C3.93 47.98 3 46.85 3 46.4V24.3a11 11 0 0 1 .61-2.73L7.72 9.1l.08-3a3.72 3.72 0 0 1 .88-.06h4.82v2.79l4.06 12.71a10.67 10.67 0 0 1 .44 2.73z\"\n\t\t\t\t\tfill=\"#fff\"\n\t\t\t\t/>\n\t\t\t\t<path\n\t\t\t\t\tclassName=\"milk\"\n\t\t\t\t\tmask=\"url(#milk-mask)\"\n\t\t\t\t\td=\"M4.5 46.5v-23l4-14h4l4 14v23\"\n\t\t\t\t\tfill=\"white\"\n\t\t\t\t/>\n\t\t\t</Svg>\n\t\t</GameBottleButton>\n\t);\n};\n","import React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useLongPress } from 'use-long-press';\n\nimport { GameBottle } from './GameBottle';\n\nconst GameContainer = styled.section`\n\twidth: inherit;\n\theight: inherit;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-direction: column;\n\tjustify-content: center;\n`;\n\nconst GameHeaderWrapper = styled.div`\n\tcolor: #ecf0f1;\n\ttext-align: center;\n`;\n\nconst GameHeaderText = styled.h1`\n\tmargin: 0;\n\tfont-size: 4.5rem;\n\tfont-family: monospace;\n`;\n\nconst GameHeaderLevel = styled.h1`\n\tmargin-top: 0.5rem;\n\tfont-size: 1.5rem;\n\tfont-family: monospace;\n`;\n\nconst GameBottleWrapper = styled.div`\n\twidth: 7.5rem;\n\tmargin: 3.75rem 0;\n`;\n\nconst GamePauseWrapper = styled.div`\n\twidth: 150px;\n`;\n\nconst GamePauseButton = styled.button`\n\twidth: 100%;\n\tpadding: 8px 16px;\n\tcolor: #ecf0f1;\n\toutline: none;\n\tbox-shadow: none;\n\tfont-size: 2rem;\n\tborder-radius: 4px;\n\tfont-family: monospace;\n\tborder-color: #ecf0f1;\n\tbackground-color: #2980b9;\n`;\n\nconst INITIAL_LEVEL = 1;\nconst INITIAL_PROGRESS = 40;\nconst INITIAL_TIME_LEFT = 15;\n\nconst MIN_PROGRESS = 4;\nconst MAX_PROGRESS = 80;\n\nexport const Game: React.FC = () => {\n\tconst [level, setLevel] = useState(INITIAL_LEVEL);\n\tconst [paused, setPaused] = useState(true);\n\tconst [active, setActive] = useState(false);\n\tconst [progress, setProgress] = useState(INITIAL_PROGRESS);\n\tconst [timeLeft, setTimeLeft] = useState(INITIAL_TIME_LEFT);\n\n\tconst onLongPress = useCallback(() => {\n\t\tsetProgress((prev) => {\n\t\t\treturn prev > MIN_PROGRESS && prev < MAX_PROGRESS ? prev + 1 : prev;\n\t\t});\n\t}, []);\n\n\tconst bind = useLongPress(onLongPress, {\n\t\tthreshold: 2500,\n\t\tonStart: () => setActive(() => true),\n\t\tonFinish: () => setActive(() => false),\n\t\tonCancel: () => setActive(() => false),\n\t});\n\n\tuseEffect(() => {\n\t\tconst fillTimer = setInterval(() => {\n\t\t\tif (active) {\n\t\t\t\tsetProgress((prev) => {\n\t\t\t\t\treturn prev >= MIN_PROGRESS && prev < MAX_PROGRESS\n\t\t\t\t\t\t? prev + 0.5 - 0.05 * level\n\t\t\t\t\t\t: prev;\n\t\t\t\t});\n\t\t\t}\n\t\t}, 100);\n\n\t\treturn () => {\n\t\t\tclearInterval(fillTimer);\n\t\t};\n\t}, [level, active, setProgress]);\n\n\tuseEffect(() => {\n\t\tconst decayTimer = setInterval(() => {\n\t\t\tif (!paused) {\n\t\t\t\tsetProgress((prev) => {\n\t\t\t\t\treturn prev > MIN_PROGRESS && prev <= MAX_PROGRESS\n\t\t\t\t\t\t? prev - 0.1 - 0.05 * level\n\t\t\t\t\t\t: prev;\n\t\t\t\t});\n\t\t\t}\n\t\t}, 100);\n\n\t\treturn () => {\n\t\t\tclearInterval(decayTimer);\n\t\t};\n\t}, [level, paused, setProgress]);\n\n\tuseEffect(() => {\n\t\tconst timeLeftTimer = setInterval(() => {\n\t\t\tif (!paused) {\n\t\t\t\tsetTimeLeft((prev) => {\n\t\t\t\t\treturn prev > 0 ? prev - 1 : prev;\n\t\t\t\t});\n\t\t\t}\n\t\t}, 1000);\n\n\t\treturn () => {\n\t\t\tclearInterval(timeLeftTimer);\n\t\t};\n\t}, [paused, setTimeLeft]);\n\n\tconst reset = useCallback(\n\t\t(level: number) => {\n\t\t\tsetLevel(() => level);\n\t\t\tsetProgress(() => INITIAL_PROGRESS);\n\t\t\tsetTimeLeft(() => INITIAL_TIME_LEFT);\n\t\t},\n\t\t[setLevel, setProgress, setTimeLeft],\n\t);\n\n\tuseEffect(() => {\n\t\tif (timeLeft === 0 || progress <= MIN_PROGRESS) {\n\t\t\treset(INITIAL_LEVEL);\n\t\t} else if (progress >= MAX_PROGRESS) {\n\t\t\treset(level + 1);\n\t\t}\n\t}, [level, timeLeft, progress, paused, reset, setTimeLeft]);\n\n\tconst onClick = useCallback(() => {\n\t\tsetProgress((prev) => prev + 2 - 0.05 * level);\n\t}, [level, setProgress]);\n\n\treturn (\n\t\t<GameContainer>\n\t\t\t<GameHeaderWrapper>\n\t\t\t\t<GameHeaderText>{paused ? 'Paused' : `${timeLeft}s`}</GameHeaderText>\n\t\t\t\t<GameHeaderLevel>{`Level: ${level}`}</GameHeaderLevel>\n\t\t\t</GameHeaderWrapper>\n\n\t\t\t<GameBottleWrapper>\n\t\t\t\t<GameBottle\n\t\t\t\t\tbind={bind}\n\t\t\t\t\tdisabled={paused}\n\t\t\t\t\tprogress={progress}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t/>\n\t\t\t</GameBottleWrapper>\n\n\t\t\t<GamePauseWrapper>\n\t\t\t\t<GamePauseButton onClick={() => setPaused((prev) => !prev)}>\n\t\t\t\t\t{paused ? 'Start' : 'Pause'}\n\t\t\t\t</GamePauseButton>\n\t\t\t</GamePauseWrapper>\n\t\t</GameContainer>\n\t);\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { GlobalStyles } from './utils/globalStyles';\nimport { Game } from './components/Game';\n\nconst Container = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: hidden;\n\tbackground: #3498db;\n`;\n\nexport const App: React.FC = () => {\n\treturn (\n\t\t<Container>\n\t\t\t<GlobalStyles />\n\t\t\t<Game />\n\t\t</Container>\n\t);\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}